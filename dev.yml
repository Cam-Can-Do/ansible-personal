---
- hosts: all
  vars:
    dev:
      # Editors
      - vim
      
      # Version Control
      - git

      # Interpreters, compilers, runtimes, etc...
      - gcc

      - python3
      - python3-pip
      - python3-venv

      - nodejs
      - npm
      
      # Build tools
      - make
      - cmake

      # Debugging
      - gdb

      # Environment / workflow
      - tmux

      # Containerization
      - docker.io
      - docker-compose

      # Virtualization
      
      # TODO: Not in default repos
      #- virtualbox

      - qemu-kvm
      - libvirt-daemon-system
      - libvirt-clients
      - bridge-utils
      - virt-manager


  roles:
    - role: package_installer
      vars:
        packages: "{{ dev }}"

  tasks:
    - name: Add user to libvirt group
      become: yes
      user:
        name: "{{ lookup('env', 'USER') }}"
        groups: libvirt
        append: yes 

    - include_tasks: playbooks/install_vscode.yml    
...